<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>InboxAI Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <h1>InboxAI Settings</h1>
    <form id="settings-form">
      <div class="form-group">
        <label for="provider"><strong>Default Provider</strong></label>
        <select id="provider" name="provider">
            <option value="openai">OpenAI-compatible</option>
            <option value="deepseek">DeepSeek</option>
            <option value="custom">Custom</option>
        </select>
      </div>

      <div class="form-group">
        <label for="base-url"><strong>Base URL</strong> (e.g., https://api.openai.com/v1)</label>
        <input type="url" id="base-url" name="baseUrl" placeholder="https://api.openai.com/v1" required>
      </div>
      
      <div class="form-group">
        <label for="api-key"><strong>API Key</strong></label>
        <input type="password" id="api-key" name="apiKey" placeholder="sk-..." required>
      </div>

      <div class="form-group">
        <label for="model-name"><strong>Model Name</strong> (e.g., gpt-3.5-turbo)</label>
        <input type="text" id="model-name" name="modelName" placeholder="gpt-4o-mini" required>
      </div>

      <div class="form-group">
        <label for="target-lang"><strong>Target Language</strong> (for translation)</label>
        <select id="target-lang" name="targetLang">
          <option value="Arabic">Arabic</option>
          <option value="Chinese">Chinese</option>
          <option value="English">English</option>
          <option value="French">French</option>
          <option value="Russian">Russian</option>
          <option value="Spanish">Spanish</option>
        </select>
      </div>

      <div class="form-group" style="padding: 10px; border: 1px solid #ccc; border-radius: 4px; background-color: #f9f9f9;">
        <label><strong>Privacy & Data</strong></label>
        <div style="margin-top: 5px;">
            <input type="checkbox" id="data-opt-in" name="dataOptIn">
            <label for="data-opt-in" style="font-weight: normal; display: inline;">
                Allow InboxAI to send email content to the selected AI provider.
            </label>
        </div>
        <p style="font-size: 0.9em; color: #666; margin-top: 5px;">
            When enabled, features like Translate, Write and Polish will send the selected text or email context (text-parts only) to your configured AI provider (e.g., OpenAI). No data is sent without your explicit action.
        </p>
      </div>

      <div class="actions">
        <button type="submit" class="primary">Save Settings</button>
        <button type="button" id="test-connection" style="margin-left: 10px;">Test Connection</button>
        <span id="status" class="status"></span>
      </div>
    </form>
  </div>
  <script src="options.js"></script>
</body>
</html>
